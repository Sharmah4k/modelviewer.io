<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title></title>
    <script
      type="module"
      src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"
    ></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat&family=Open+Sans&family=Quicksand&family=Raleway&family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-tabledit@1.0.0/jquery.tabledit.min.js"></script>
  </head>
  <body class="border" id="Parentbody">
    <model-viewer
      id="lazy-load"
      skybox-image=""
      camera-orbit="-218.1deg 73.88deg auto"
      reveal="auto"
      loading="eager"
      alt=""
      poster="https://cdn.glitch.global/1c0e7739-76c0-4e19-933f-f75049828a13/predator.jpg?v=1655198012243"
      with-credentials="true"
      animation-name=""
      autoplay=""
      enable-pan
      enviornment-image=""
      src="assets/superCars/lamborgini.glb"
      preload
      ar
      ar-modes="webxr scene-viewer quick-look"
      camera-controls
      shadow-intensity="1"
      style="
        height: 600px;
        width: 100%;
        display: block;"
      
    >
      <div class="controls">
        <div style="text-size: 24sp">
          Animations:
          <select id="variant"></select>
        </div>
      </div>
      <button id="pause">pause</button>
      <button id="play" class="btn btn-primary" style="display: none">
        play
      </button>
      <button
        class="btn btn-outline-danger"
        style="margin: 5px"
        data-toggle="collapse"
        data-target="#demo"
      >
        more
      </button>

      <div style="width: 0%" id="demo" class="controls3 collapse">
        <div>
          <p style="text-size: 8sp">
            Metalness:<span id="metalness-value"></span>
          </p>
          <input
            id="metalness"
            type="range"
            min="0"
            max="1"
            step="0.02"
            value="0.1"
          />
        </div>
        <div>
          <p>Roughness:<span id="roughness-value"></span></p>
          <input
            id="roughness"
            type="range"
            min="0"
            max="1"
            step="0.01"
            value="0"
          />
        </div>
        <div class="slidecontainer">
          <p>Exposure:<span id="brightness-value"></span></p>
          <input
            id="brightness"
            type="range"
            max="10"
            step="0.02"
            min="1"
            value="1"
          />
        </div>
        <div class="slidecontainer">
          <p>shadow:<span id="shadow-value"></span></p>
          <input
            style=""
            id="shadow"
            type="range"
            max="10"
            step="0.01"
            min="1"
            value="1"
          />
        </div>
        <div class="controls2 d-flex mt-2" ,="" id="color-controls">
          <button class="btn btn-danger" data-color="1,0,0,1">Red</button>
          <button class="btn btn-success" data-color="0,1,0,1">Green</button>
          <button class="btn btn-primary" data-color="0,0,1,1">Blue</button>
        </div>

        <div class="d-flex mt-2">
          <img
            id="Bg1"
            class="border"
            height="25px"
            width="25px"
            style="background-color: yellow"
          />
          <img
            id="Bg2"
            class="border"
            height="25px"
            width="25px"
            style="background-color: white"
          />
          <img
            id="Bg3"
            class="border"
            height="25px"
            width="25px"
            style="background-color: orange"
          />
          <img
            id="Bg4"
            class="border"
            height="25px"
            width="25px"
            style="background-color: pink"
          />
          <img
            id="Bg5"
            class="border"
            height="25px"
            width="25px"
            style="background-color: blue"
          />
          <img
            id="Bg6"
            class="border"
            height="25px"
            width="25px"
            style="background-color: green"
          />
          <img
            id="Bg7"
            class="border"
            height="25px"
            width="25px"
            style="background-color: red"
          />
          <img
            id="Bg8"
            class="border"
            height="25px"
            width="25px"
            style="background-color: black"
          />
           <img
            id="Bg9"
            class="border"
            height="25px"
            width="25px"
            style="background-color: black"
          />
        </div>
      </div>
    </model-viewer>

    <!----  <style>
    #lazy-load-poster {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      background-image: url("https://cdn.glitch.com/a9975ea6-8949-4bab-addb-8a95021dc2da%2Fillustration.svg?v=1618177344016");
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
    }
    #button-load {
      background-image: url("https://cdn.glitch.com/a9975ea6-8949-4bab-addb-8a95021dc2da%2Fillustration.svg?v=1618177344016");
      background-repeat: no-repeat;
      background-size: 24px 24px;
      background-position: 6% 50%;
      background-color: #000;
      color: white;
      cursor: pointer;
      border-radius: 6px;
      display: inline-block;
      padding: 10px 18px 9px 40px;
      font-weight: 500;
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.2), 0 0 4px rgba(0, 0, 0, 0.25);
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate3d(-50%, -50%, 0);
      z-index: 100;
    }
  </style>--->

    <script>
      // customElements.get("model-viewer").modelCacheSize = 10;
      // modelViewer.constructor.modelCacheSize = 10;
      const modelViewerAnims = document.querySelector("#lazy-load");
      const select = document.querySelector("#variant");

      modelViewerAnims.addEventListener("load", () => {
        const names = modelViewerAnims.availableAnimations;
        for (const name of names) {
          const option = document.createElement("option");
          option.value = name;
          option.textContent = name;
          select.appendChild(option);
        }
        // Adds a default option.
        const option = document.createElement("option");
        option.value = "default";
        option.textContent = "Default";
        select.appendChild(option);
      });

      select.addEventListener("input", (event) => {
        modelViewerAnims.animationName =
          event.target.value === "default" ? null : event.target.value;
      });
    </script>
    <script>
      const modelViewerColor = document.querySelector("model-viewer#lazy-load");

      document
        .querySelector("#color-controls")
        .addEventListener("click", (event) => {
          const colorString = event.target.dataset.color;

          if (!colorString) {
            return;
          }

          const color = colorString
            .split(",")
            .map((numberString) => parseFloat(numberString));

          console.log("Changing color to: ", color);
          const [material] = modelViewerColor.model.materials;
          material.pbrMetallicRoughness.setBaseColorFactor(color);
        });
    </script>

    <script>
      const modelViewerParameters = document.querySelector(
        "model-viewer#lazy-load"
      );

      modelViewerParameters.addEventListener("load", (ev) => {
        let material = modelViewerParameters.model.materials[0];

        let metalnessDisplay = document.querySelector("#metalness-value");
        let roughnessDisplay = document.querySelector("#roughness-value");

        metalnessDisplay.textContent =
          material.pbrMetallicRoughness.metallicFactor;
        roughnessDisplay.textContent =
          material.pbrMetallicRoughness.roughnessFactor;

        // Defaults to gold
        material.pbrMetallicRoughness.setBaseColorFactor([
          0.7294, 0.5333, 0.0392,
        ]);

        document
          .querySelector("#metalness")
          .addEventListener("input", (event) => {
            material.pbrMetallicRoughness.setMetallicFactor(event.target.value);
            metalnessDisplay.textContent = event.target.value;
          });

        document
          .querySelector("#roughness")
          .addEventListener("input", (event) => {
            material.pbrMetallicRoughness.setRoughnessFactor(
              event.target.value
            );
            roughnessDisplay.textContent = event.target.value;
          });
      });
    </script>

    <script>
      var slider = document.getElementById("brightness");
      var output = document.getElementById("brightness-value");
      var modelV = document.getElementById("lazy-load");
      output.innerHTML = slider.value;

      slider.oninput = function () {
        output.innerHTML = this.value;
        var intg = parseFloat(this.value);
        modelV.exposure = intg;
      };
    </script>
    <script>
      var slider1 = document.getElementById("shadow");
      var output1 = document.getElementById("shadow-value");
      var modelV1 = document.getElementById("lazy-load");
      output1.innerHTML = slider1.value;

      slider1.oninput = function () {
        output1.innerHTML = this.value;
        var intg1 = parseFloat(this.value);
        modelV1.shadowIntensity = intg1;
      };
    </script>
    <script>
      var modelPause = document.getElementById("lazy-load");
      $("#pause").click(function () {
        modelPause.pause();
        $("#pause").hide();
        $("#play").show();
      });
    </script>
    <script>
      var modelPlay = document.getElementById("lazy-load");
      $("#play").click(function () {
        modelPlay.play();
        $("#play").hide();
        $("#pause").show();
      });
    </script>
    <script>
      var modelBg = document.getElementById("lazy-load");
      var parentBody = document.getElementById("Parentbody");
      $("#Bg1").click(function () {
        modelBg.style =
          "height: 600px; width: 100%; display: block; padding: 10px;background:yellow;";
           modelBg.skyboxImage="";
      });
      $("#Bg2").click(function () {
        modelBg.style =
          "height: 600px; width: 100%; display: block; padding: 10px;background:white;";
           modelBg.skyboxImage="";
      });
      $("#Bg3").click(function () {
        modelBg.style =
          "height: 600px; width: 100%; display: block; padding: 10px;background:orange;";
           modelBg.skyboxImage="";
      });
      $("#Bg4").click(function () {
        modelBg.style =
          "height: 600px; width: 100%; display: block; padding: 10px;background:pink;";
           modelBg.skyboxImage="";
      });
      $("#Bg5").click(function () {
        modelBg.style =
          "height: 600px; width: 100%; display: block; padding: 10px;background:blue;";
           modelBg.skyboxImage="";
      });
      $("#Bg6").click(function () {
        modelBg.style =
          "height: 600px; width: 100%; display: block; padding: 10px;background:green;";
           modelBg.skyboxImage="";
      });
      $("#Bg7").click(function () {
        modelBg.style =
          "height: 600px; width: 100%; display: block; padding: 10px;background:red;";
           modelBg.skyboxImage="";
      });
      $("#Bg8").click(function () {
        modelBg.style =
          "height: 600px; width: 100%; display: block; padding: 10px;background:black;";
        parentBody.style = "text-color:black";
         modelBg.skyboxImage="";
      });
       $("#Bg9").click(function () {
        modelBg.skyboxImage="assets/spruit_sunrise_4k.hdr";
         modelBg.style =
          "height: 600px; width: 100%; display: block; padding: 10px;background:;";
      });
    </script>
  </body>
</html>
